<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apply for a Position - Scrapify Ecotech Pvt. Ltd.</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      .apply{
        margin-bottom: 50px;
      }
      .apply-form {
        width: 50%;
        margin: 0 auto;
        padding: 2rem;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
      }
      .form-group {
        margin-bottom: 1.5rem;
      }
      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
      }
      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--secondary-color);
        border-radius: 4px;
        background-color: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
      }
      .form-group textarea {
        height: 150px;
      }
      .error-message {
        color: #ff6b6b;
        font-size: 0.9rem;
        margin-top: 0.25rem;
      }
      .apply-header {
        text-align: center;
        margin-bottom: 2rem;
        margin-top: 2rem;
      }
      .apply-header h2,
      .apply-header h3 {
        text-align: center;
      }
      .apply-form .btn {
        display: block;
        margin: 0 auto;
      }
      @media (max-width: 768px) {
        .apply-form {
          width: 80%;
        }
      }
      @media (max-width: 480px) {
        .apply-form {
          width: 95%;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a href="index.html#home" class="nav-link">Home</a>
        <a href="index.html#products" class="nav-link">Products</a>
        <a href="index.html#company" class="nav-link">Company</a>
        <a href="index.html#career" class="nav-link">Career</a>
        <a href="index.html#about" class="nav-link">About</a>
        <a href="contact.html" class="nav-link">Contact us</a>
      </div>
    </nav>

    <main>
      <section id="apply" class="apply">
        <div class="apply-content">
          <div class="apply-header">
            <h2>APPLY FOR A POSITION</h2>
            <h3>JOIN OUR TEAM</h3>
          </div>
          <form
            id="applyForm"
            action="https://api.web3forms.com/submit"
            method="POST"
            class="apply-form"
          >
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" required />
              <div class="error-message" id="nameError"></div>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />
              <div class="error-message" id="emailError"></div>
            </div>
            <div class="form-group">
              <label for="address">Address</label>
              <textarea id="address" name="address" required></textarea>
              <div class="error-message" id="addressError"></div>
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" required />
              <div class="error-message" id="phoneError"></div>
            </div>
            <div class="form-group">
              <label for="resume">Resume (google drive link)</label>
              <input type="url" id="resume" name="resume" required />
              <div class="error-message" id="resumeError"></div>
            </div>
            <div class="form-group">
              <label for="linkedin">LinkedIn URL</label>
              <input type="url" id="linkedin" name="linkedin" required />
              <div class="error-message" id="linkedinError"></div>
            </div>
            <input
              type="hidden"
              name="access_key"
              value="e11c275a-7dec-4328-8ec7-8f529d35a6df"
            />
            <input
              type="hidden"
              name="redirect"
              value="https://your-website.com/success"
            />
            <button type="submit" class="btn btn-primary btn-large ">
              Submit Application
            </button>
          </form>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <p>&copy; 2024 Scrapify Ecotech Pvt. Ltd. All rights reserved.</p>
      </div>
    </footer>

    <script>
      document
        .getElementById("applyForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Reset error messages
          document
            .querySelectorAll(".error-message")
            .forEach((el) => (el.textContent = ""));

          // Validate fields
          let isValid = true;

          if (!this.name.value.trim()) {
            document.getElementById("nameError").textContent =
              "Name is required";
            isValid = false;
          }

          if (!this.email.value.trim()) {
            document.getElementById("emailError").textContent =
              "Email is required";
            isValid = false;
          } else if (
            !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email.value.trim())
          ) {
            document.getElementById("emailError").textContent =
              "Please enter a valid email address";
            isValid = false;
          }

          if (!this.address.value.trim()) {
            document.getElementById("addressError").textContent =
              "Address is required";
            isValid = false;
          }

          if (!this.phone.value.trim()) {
            document.getElementById("phoneError").textContent =
              "Phone number is required";
            isValid = false;
          }

          if (!this.resume.value.trim()) {
            document.getElementById("resumeError").textContent =
              "Resume link is required";
            isValid = false;
          }

          if (!this.linkedin.value.trim()) {
            document.getElementById("linkedinError").textContent =
              "LinkedIn URL is required";
            isValid = false;
          }

          if (isValid) {
            // Form is valid, proceed with submission
            const formData = {
              access_key: this.access_key.value,
              name: this.name.value.trim(),
              email: this.email.value.trim(),
              address: this.address.value.trim(),
              phone: this.phone.value.trim(),
              resume: this.resume.value.trim(),
              linkedin: this.linkedin.value.trim(),
              redirect: this.redirect.value,
            };

            fetch(this.action, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(formData),
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.success) {
                  alert(
                    "Thank you for your application. We will get back to you soon!"
                  );
                  this.reset();
                } else {
                  alert(
                    "There was an error submitting the form. Please try again."
                  );
                }
              })
              .catch((error) => {
                console.error("Error:", error);
                alert(
                  "There was an error submitting the form. Please try again."
                );
              });
          }
        });
    </script>
  </body>
</html>
